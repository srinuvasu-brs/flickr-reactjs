{"ast":null,"code":"var _jsxFileName = \"E:\\\\flickr reactjs\\\\src\\\\modules\\\\Home.js\",\n  _s = $RefreshSig$();\n// Author:    Build Rise Shine with Nyros (BRS)\n// Created:   11.05.2022\n// Library / Component: Home Page\n// Description: Main page  for the app\n// (c) Copyright by BRS Studio | Build Rise Shine.\n\nimport { useState } from \"react\";\nimport { HttpGet } from \"../core/store/httpHelper\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Home = () => {\n  _s();\n  const [imageList, setImageList] = useState([]);\n  const getImageList = async event => {\n    event.preventDefault();\n    try {\n      let searchQuery = event.target.imgSearch.value;\n      if (searchQuery) {\n        var _conversionRates$phot;\n        let queryParams = {\n          tags: searchQuery\n        };\n        let conversionRates = await HttpGet(queryParams);\n        setImageList(conversionRates === null || conversionRates === void 0 ? void 0 : (_conversionRates$phot = conversionRates.photos) === null || _conversionRates$phot === void 0 ? void 0 : _conversionRates$phot.photo);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const imgUrl = imgData => {\n    return \"https://farm\" + (imgData === null || imgData === void 0 ? void 0 : imgData.farm) + \".staticflickr.com/\" + (imgData === null || imgData === void 0 ? void 0 : imgData.server) + \"/\" + (imgData === null || imgData === void 0 ? void 0 : imgData.id) + \"_\" + (imgData === null || imgData === void 0 ? void 0 : imgData.secret) + \"_q.jpg\";\n  };\n  const downloadImg = link => {\n    var url = link;\n    var fileName = 'image.jpg';\n    var xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", url, true);\n    xhr.responseType = \"blob\";\n    xhr.onload = function () {\n      var urlCreator = window.URL || window.webkitURL;\n      var imageUrl = urlCreator.createObjectURL(this.response);\n      var tag = document.createElement('a');\n      tag.href = imageUrl;\n      tag.download = fileName;\n      document.body.appendChild(tag);\n      tag.click();\n      document.body.removeChild(tag);\n      window.URL.revokeObjectURL(imageUrl);\n    };\n    xhr.send();\n  };\n  const ImgGallery = () => {\n    return !!imageList.length && imageList.map(imgData => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col col-lg-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"boxShadowClass\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"img-block\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row w-100 m-0\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col col-lg-12 text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: imgUrl(imgData),\n                  alt: \"\",\n                  className: \"zoom\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row w-100 m-0\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col col-lg-12 text-end\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"border-0 text-center bg-transparent\",\n                  download: \"image.jpg\",\n                  onClick: () => downloadImg(imgUrl(imgData)),\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"mdi mdi-arrow-down-bold-circle-outline\",\n                    id: \"mdi\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 68,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)\n      }, imgData.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row w-100 m-0 p-2 srchblk\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: getImageList,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row w-100 m-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col col-lg-10 ps-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group-prepend\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"input-group-text rounded-0 rounded-start\",\n                  id: \"img-search\",\n                  children: \"#\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"imgSearch\",\n                type: \"text\",\n                className: \"form-control\",\n                placeholder: \"Search for images\",\n                \"aria-label\": \"Search for images\",\n                \"aria-describedby\": \"img-search\",\n                autoFocus: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col col-lg-2 pe-0\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-warning w-100\",\n              type: \"submit\",\n              children: \"Go\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(ImgGallery, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n_s(Home, \"TzQnErkNPz3/5p9uNY2YyKisQYM=\");\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useState","HttpGet","Home","imageList","setImageList","getImageList","event","preventDefault","searchQuery","target","imgSearch","value","queryParams","tags","conversionRates","photos","photo","error","console","log","imgUrl","imgData","farm","server","id","secret","downloadImg","link","url","fileName","xhr","XMLHttpRequest","open","responseType","onload","urlCreator","window","URL","webkitURL","imageUrl","createObjectURL","response","tag","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","send","ImgGallery","length","map"],"sources":["E:/flickr reactjs/src/modules/Home.js"],"sourcesContent":["// Author:    Build Rise Shine with Nyros (BRS)\n// Created:   11.05.2022\n// Library / Component: Home Page\n// Description: Main page  for the app\n// (c) Copyright by BRS Studio | Build Rise Shine.\n\nimport { useState } from \"react\";\nimport { HttpGet } from \"../core/store/httpHelper\";\n\nexport const Home = () => {\n  const [imageList, setImageList] = useState([]);\n\n  const getImageList = async (event) => {\n    event.preventDefault();\n    try {\n      let searchQuery = event.target.imgSearch.value;\n      if(searchQuery) {\n        let queryParams = {\n          tags: searchQuery\n        }\n        let conversionRates = await HttpGet(queryParams);\n        setImageList(conversionRates?.photos?.photo);\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const imgUrl = (imgData) => {\n    return \"https://farm\" + imgData?.farm + \".staticflickr.com/\" + imgData?.server + \"/\" + imgData?.id + \"_\" + imgData?.secret + \"_q.jpg\";\n  }\n\n  const downloadImg = (link) => {\n    var url = link;\n    var fileName = 'image.jpg';\n    var xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", url, true);\n    xhr.responseType = \"blob\";\n    xhr.onload = function() {\n      var urlCreator = window.URL || window.webkitURL;\n      var imageUrl = urlCreator.createObjectURL(this.response);\n      var tag = document.createElement('a');\n      tag.href = imageUrl;\n      tag.download = fileName;\n      document.body.appendChild(tag);\n      tag.click();\n      document.body.removeChild(tag);\n      window.URL.revokeObjectURL(imageUrl)\n    }\n    xhr.send();\n  }\n\n  const ImgGallery = () => {\n    return (\n      !!imageList.length && imageList.map((imgData) => {\n        return (\n          <div key={imgData.id} className=\"col col-lg-3\">\n            <div className=\"boxShadowClass\">\n              <div className=\"img-block\">\n                <div className=\"row w-100 m-0\">\n                  <div className=\"col col-lg-12 text-center\">\n                    <img src={imgUrl(imgData)} alt=\"\" className=\"zoom\"/>\n                  </div>\n                </div>\n                <div className=\"row w-100 m-0\">\n                  <div className=\"col col-lg-12 text-end\">\n                    <button className=\"border-0 text-center bg-transparent\" download=\"image.jpg\" onClick={() => downloadImg(imgUrl(imgData))}>\n                      <span className=\"mdi mdi-arrow-down-bold-circle-outline\" id=\"mdi\"></span>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )\n      })\n    )\n  }\n\n  return (\n    <>\n    <div className=\"row w-100 m-0 p-2 srchblk\">\n      <form onSubmit={getImageList}>\n        <div className=\"row w-100 m-0\">\n          <div className=\"col col-lg-10 ps-0\">\n            <div className=\"input-group\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text rounded-0 rounded-start\" id=\"img-search\">#</span>\n              </div>\n              <input name=\"imgSearch\" type=\"text\" className=\"form-control\" placeholder=\"Search for images\" aria-label=\"Search for images\" aria-describedby=\"img-search\" autoFocus />\n            </div>\n          </div>\n          <div className=\"col col-lg-2 pe-0\">\n            <button className=\"btn btn-warning w-100\" type=\"submit\">Go</button>\n          </div>\n        </div>\n        <div className=\"row\">\n          <ImgGallery />\n        </div>\n      </form>\n        </div>\n    </>\n  )\n}\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;;AAEA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,OAAO,QAAQ,0BAA0B;AAAC;AAAA;AAEnD,OAAO,MAAMC,IAAI,GAAG,MAAM;EAAA;EACxB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGJ,QAAQ,CAAC,EAAE,CAAC;EAE9C,MAAMK,YAAY,GAAG,MAAOC,KAAK,IAAK;IACpCA,KAAK,CAACC,cAAc,EAAE;IACtB,IAAI;MACF,IAAIC,WAAW,GAAGF,KAAK,CAACG,MAAM,CAACC,SAAS,CAACC,KAAK;MAC9C,IAAGH,WAAW,EAAE;QAAA;QACd,IAAII,WAAW,GAAG;UAChBC,IAAI,EAAEL;QACR,CAAC;QACD,IAAIM,eAAe,GAAG,MAAMb,OAAO,CAACW,WAAW,CAAC;QAChDR,YAAY,CAACU,eAAe,aAAfA,eAAe,gDAAfA,eAAe,CAAEC,MAAM,0DAAvB,sBAAyBC,KAAK,CAAC;MAC9C;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF,CAAC;EAED,MAAMG,MAAM,GAAIC,OAAO,IAAK;IAC1B,OAAO,cAAc,IAAGA,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEC,IAAI,IAAG,oBAAoB,IAAGD,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEE,MAAM,IAAG,GAAG,IAAGF,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEG,EAAE,IAAG,GAAG,IAAGH,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEI,MAAM,IAAG,QAAQ;EACvI,CAAC;EAED,MAAMC,WAAW,GAAIC,IAAI,IAAK;IAC5B,IAAIC,GAAG,GAAGD,IAAI;IACd,IAAIE,QAAQ,GAAG,WAAW;IAC1B,IAAIC,GAAG,GAAG,IAAIC,cAAc,EAAE;IAC9BD,GAAG,CAACE,IAAI,CAAC,KAAK,EAAEJ,GAAG,EAAE,IAAI,CAAC;IAC1BE,GAAG,CAACG,YAAY,GAAG,MAAM;IACzBH,GAAG,CAACI,MAAM,GAAG,YAAW;MACtB,IAAIC,UAAU,GAAGC,MAAM,CAACC,GAAG,IAAID,MAAM,CAACE,SAAS;MAC/C,IAAIC,QAAQ,GAAGJ,UAAU,CAACK,eAAe,CAAC,IAAI,CAACC,QAAQ,CAAC;MACxD,IAAIC,GAAG,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MACrCF,GAAG,CAACG,IAAI,GAAGN,QAAQ;MACnBG,GAAG,CAACI,QAAQ,GAAGjB,QAAQ;MACvBc,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,GAAG,CAAC;MAC9BA,GAAG,CAACO,KAAK,EAAE;MACXN,QAAQ,CAACI,IAAI,CAACG,WAAW,CAACR,GAAG,CAAC;MAC9BN,MAAM,CAACC,GAAG,CAACc,eAAe,CAACZ,QAAQ,CAAC;IACtC,CAAC;IACDT,GAAG,CAACsB,IAAI,EAAE;EACZ,CAAC;EAED,MAAMC,UAAU,GAAG,MAAM;IACvB,OACE,CAAC,CAAClD,SAAS,CAACmD,MAAM,IAAInD,SAAS,CAACoD,GAAG,CAAElC,OAAO,IAAK;MAC/C,oBACE;QAAsB,SAAS,EAAC,cAAc;QAAA,uBAC5C;UAAK,SAAS,EAAC,gBAAgB;UAAA,uBAC7B;YAAK,SAAS,EAAC,WAAW;YAAA,wBACxB;cAAK,SAAS,EAAC,eAAe;cAAA,uBAC5B;gBAAK,SAAS,EAAC,2BAA2B;gBAAA,uBACxC;kBAAK,GAAG,EAAED,MAAM,CAACC,OAAO,CAAE;kBAAC,GAAG,EAAC,EAAE;kBAAC,SAAS,EAAC;gBAAM;kBAAA;kBAAA;kBAAA;gBAAA;cAAE;gBAAA;gBAAA;gBAAA;cAAA;YAChD;cAAA;cAAA;cAAA;YAAA,QACF,eACN;cAAK,SAAS,EAAC,eAAe;cAAA,uBAC5B;gBAAK,SAAS,EAAC,wBAAwB;gBAAA,uBACrC;kBAAQ,SAAS,EAAC,qCAAqC;kBAAC,QAAQ,EAAC,WAAW;kBAAC,OAAO,EAAE,MAAMK,WAAW,CAACN,MAAM,CAACC,OAAO,CAAC,CAAE;kBAAA,uBACvH;oBAAM,SAAS,EAAC,wCAAwC;oBAAC,EAAE,EAAC;kBAAK;oBAAA;oBAAA;oBAAA;kBAAA;gBAAQ;kBAAA;kBAAA;kBAAA;gBAAA;cAClE;gBAAA;gBAAA;gBAAA;cAAA;YACL;cAAA;cAAA;cAAA;YAAA,QACF;UAAA;YAAA;YAAA;YAAA;UAAA;QACF;UAAA;UAAA;UAAA;QAAA;MACF,GAhBEA,OAAO,CAACG,EAAE;QAAA;QAAA;QAAA;MAAA,QAiBd;IAEV,CAAC,CAAC;EAEN,CAAC;EAED,oBACE;IAAA,uBACA;MAAK,SAAS,EAAC,2BAA2B;MAAA,uBACxC;QAAM,QAAQ,EAAEnB,YAAa;QAAA,wBAC3B;UAAK,SAAS,EAAC,eAAe;UAAA,wBAC5B;YAAK,SAAS,EAAC,oBAAoB;YAAA,uBACjC;cAAK,SAAS,EAAC,aAAa;cAAA,wBAC1B;gBAAK,SAAS,EAAC,qBAAqB;gBAAA,uBAClC;kBAAM,SAAS,EAAC,0CAA0C;kBAAC,EAAE,EAAC,YAAY;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA;cAAS;gBAAA;gBAAA;gBAAA;cAAA,QAC/E,eACN;gBAAO,IAAI,EAAC,WAAW;gBAAC,IAAI,EAAC,MAAM;gBAAC,SAAS,EAAC,cAAc;gBAAC,WAAW,EAAC,mBAAmB;gBAAC,cAAW,mBAAmB;gBAAC,oBAAiB,YAAY;gBAAC,SAAS;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAG;YAAA;cAAA;cAAA;cAAA;YAAA;UAClK;YAAA;YAAA;YAAA;UAAA,QACF,eACN;YAAK,SAAS,EAAC,mBAAmB;YAAA,uBAChC;cAAQ,SAAS,EAAC,uBAAuB;cAAC,IAAI,EAAC,QAAQ;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA;UAAY;YAAA;YAAA;YAAA;UAAA,QAC/D;QAAA;UAAA;UAAA;UAAA;QAAA,QACF,eACN;UAAK,SAAS,EAAC,KAAK;UAAA,uBAClB,QAAC,UAAU;YAAA;YAAA;YAAA;UAAA;QAAG;UAAA;UAAA;UAAA;QAAA,QACV;MAAA;QAAA;QAAA;QAAA;MAAA;IACD;MAAA;MAAA;MAAA;IAAA;EACC,iBACP;AAEP,CAAC;AAAA,GA9FYH,IAAI;AAAA,KAAJA,IAAI;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}